#include "trap.h"

short sub(short a, short b) {
	short c = a - b;
	return c;
}

short test_data[] = {0, 1, 2, 0x7fff, 0x8000, 0x8001, 0xfffe, 0xffff};
short ans[] = {
		0,			0xffff,	0xfffe,	0x8001,	0x8000,	0x7fff,	0x2,		0x1,
		0x1,		0,			0xffff,	0x8002,	0x8001,	0x8000,	0x3,		0x2,
		0x2,		0x1,		0,			0x8003,	0x8002,	0x8001,	0x4,		0x3,
		0x7fff,	0x7ffe,	0x7ffd,	0,			0xffff,	0xfffe,	0x8001,	0x8000,
		0x8000,	0x7fff,	0x7ffe,	0x1,		0,			0xffff,	0x8002,	0x8001,
		0x8001,	0x8000,	0x7fff, 0x2,		0x1,		0,			0x8003,	0x8002,
		0xfffe, 0xfffd,	0xfffc, 0x7fff, 0x7ffe, 0x7ffd, 0,			0xffff,
		0xffff, 0xfffe, 0xfffd, 0x8000, 0x7fff, 0x7ffe, 0x1,		0};

#define NR_DATA (sizeof(test_data) / sizeof(test_data[0]))

int main() {
	int i, j, ans_idx = 0;
	for(i = 0; i < NR_DATA; i ++) {
		for(j = 0; j < NR_DATA; j ++) {
			nemu_assert(sub(test_data[i], test_data[j]) == ans[ans_idx ++]);
		}
	}

	return 0;
}
